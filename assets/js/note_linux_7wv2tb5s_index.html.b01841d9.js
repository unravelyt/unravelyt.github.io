"use strict";(self.webpackChunkunravely_blog=self.webpackChunkunravely_blog||[]).push([[8471],{6066:(s,i,a)=>{a.r(i),a.d(i,{comp:()=>e,data:()=>h});var n=a(6254);const l={},e=(0,a(1021).A)(l,[["render",function(s,i){return(0,n.uX)(),(0,n.CE)("div",null,i[0]||(i[0]=[(0,n.Fv)('<h2 id="构建镜像并推送至镜像仓库" tabindex="-1"><a class="header-anchor" href="#构建镜像并推送至镜像仓库"><span>构建镜像并推送至镜像仓库</span></a></h2><div class="language-shell line-numbers-mode has-collapsed collapsed" data-ext="shell" data-title="shell" style="--vp-collapsed-lines:20;"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#!/bin/bash</span></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># docker登录</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> login</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apps.tencentcloud.com</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --username</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 123213131</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --password</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> eyJhbGcAyEY2HRUHlKQiMw</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># get work directory</span></span>\n<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">workdir</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=$(</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">$(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">dirname</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">$0</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ||</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> exit</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> pwd</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># jar包名称</span></span>\n<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">jar_name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$1</span></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 版本号</span></span>\n<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">img_tag</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$2</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 将所有的 apps-server.jar 替换为环境变量 ${jar_name} 的值</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sed</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">s/apps-server.jar/</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">jar_name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/g</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Dockerfile</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 如果 img_tag 为空，则将其设置为当前的日期和时间字符串</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">  [</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> !</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> -n</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">img_tag</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">then</span></span>\n<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    img_tag</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=$(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">date</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> +</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">%Y%m%d_%H%M</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">fi</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 编译打包，指定tag</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> build</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -t</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ka-tcr.tencentcloudcr.com/customize/</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">${</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">jar_name</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">%%</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">${</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">img_tag</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .</span></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 登录tcr </span></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 推送到tcr</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apps.tencentcloud.com/customize/</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">${</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">jar_name</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">%%</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">${</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">img_tag</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">echo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apps.tencentcloud.com/customize/</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">${</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">jar_name</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">%%</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">${</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">img_tag</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h2 id="批量clone代码到指定目录" tabindex="-1"><a class="header-anchor" href="#批量clone代码到指定目录"><span>批量clone代码到指定目录</span></a></h2><p>一次性拉取很多工程代码，可以一次性操作</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#! /bin/bash</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> !</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> -d</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> projectDir </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">];</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">then</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    mkdir</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> projectDir</span></span>\n<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> projectDir</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">else</span></span>\n<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> projectDir</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">fi</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clone</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -b</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> master</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://gitee.com/zhijiantianya/ruoyi-vue-pro.git</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clone</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -b</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> master</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://gitee.com/zhijiantianya/ruoyi-vue-cloud.git</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="批量更新git仓库" tabindex="-1"><a class="header-anchor" href="#批量更新git仓库"><span>批量更新Git仓库</span></a></h2><p>将脚本放在项目同一层级，执行脚本即可</p><div class="language-shell line-numbers-mode has-collapsed collapsed" data-ext="shell" data-title="shell" style="--vp-collapsed-lines:20;"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#!/bin/sh</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">for</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> dir</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> in</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> $(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ls</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -d</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> *</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">do</span></span>\n<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  cd</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> $dir</span></span>\n<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">into $dir</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  if</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> -d</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">.git</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ];</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> then</span></span>\n<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">       echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">正在拉取 $dir</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">     git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pull</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  elif</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> -d</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">.svn</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ];</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> then</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">     svn</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> update</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  else</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    for</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> dir1</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> in</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> $(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ls</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -d</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> *</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    do</span></span>\n<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        cd</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> $dir1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">--into $dir1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        if</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> -d</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">.git</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ];</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> then</span></span>\n<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">            echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">--正在拉取 $dir1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">            git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pull</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        elif</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> -d</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">.svn</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ];</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> then</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">            svn</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> update</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        fi</span></span>\n<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ..</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    done</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  fi</span></span>\n<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ..</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">done</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h2 id="清理maven仓库未下载成功的依赖-仅windows" tabindex="-1"><a class="header-anchor" href="#清理maven仓库未下载成功的依赖-仅windows"><span>清理maven仓库未下载成功的依赖 (仅Windows)</span></a></h2><p>设置maven仓库目录地址：D:\\dev\\maven-repository, 新建一个bat文件，复制脚本到文件内保存，双击运行即可 如：cleanMaven.bat</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">set</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> REPOSITORY_PATH=D:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\d</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ev</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\m</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">aven-repository</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rem</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 正在搜索...</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">for</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> /f </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">delims=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> %%i in </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;dir /b /s &quot;%REPOSITORY_PATH%\\*lastUpdated*&quot;&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> do</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    del</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /s</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /q</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> %%i</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rem</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 搜索完毕</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pause</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="重置beyondcopare试用时间-仅windows" tabindex="-1"><a class="header-anchor" href="#重置beyondcopare试用时间-仅windows"><span>重置BeyondCopare试用时间 (仅Windows)</span></a></h2><p><strong>方式一：删除注册表</strong></p><p>Windows 新建一个bat文件，复制脚本到文件内保存，双击运行即可</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">reg</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> delete</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">HKEY_CURRENT_USER\\Software\\Scooter Software\\Beyond Compare 4</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /v</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> CacheID</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /f</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>方式二：删除dll文件</strong></p><ol><li>找到文件安装目录：C:\\Program Files\\Beyond Compare 4</li><li>删除名字为<code>BCUnrar.dll</code>的文件</li></ol>',17)]))}]]),h=JSON.parse('{"path":"/note_linux/7wv2tb5s/","title":"常用bash脚本","lang":"zh-CN","frontmatter":{"title":"常用bash脚本","createTime":"2024/11/05","permalink":"/note_linux/7wv2tb5s/","description":"构建镜像并推送至镜像仓库 批量clone代码到指定目录 一次性拉取很多工程代码，可以一次性操作 批量更新Git仓库 将脚本放在项目同一层级，执行脚本即可 清理maven仓库未下载成功的依赖 (仅Windows) 设置maven仓库目录地址：D:\\\\dev\\\\maven-repository, 新建一个bat文件，复制脚本到文件内保存，双击运行即可 如：cl...","head":[["meta",{"property":"og:url","content":"https://www.unravely.press/note_linux/7wv2tb5s/"}],["meta",{"property":"og:site_name","content":"Unravely"}],["meta",{"property":"og:title","content":"常用bash脚本"}],["meta",{"property":"og:description","content":"构建镜像并推送至镜像仓库 批量clone代码到指定目录 一次性拉取很多工程代码，可以一次性操作 批量更新Git仓库 将脚本放在项目同一层级，执行脚本即可 清理maven仓库未下载成功的依赖 (仅Windows) 设置maven仓库目录地址：D:\\\\dev\\\\maven-repository, 新建一个bat文件，复制脚本到文件内保存，双击运行即可 如：cl..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-18T10:30:55.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-18T10:30:55.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"常用bash脚本\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-11-18T10:30:55.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"构建镜像并推送至镜像仓库","slug":"构建镜像并推送至镜像仓库","link":"#构建镜像并推送至镜像仓库","children":[]},{"level":2,"title":"批量clone代码到指定目录","slug":"批量clone代码到指定目录","link":"#批量clone代码到指定目录","children":[]},{"level":2,"title":"批量更新Git仓库","slug":"批量更新git仓库","link":"#批量更新git仓库","children":[]},{"level":2,"title":"清理maven仓库未下载成功的依赖 (仅Windows)","slug":"清理maven仓库未下载成功的依赖-仅windows","link":"#清理maven仓库未下载成功的依赖-仅windows","children":[]},{"level":2,"title":"重置BeyondCopare试用时间 (仅Windows)","slug":"重置beyondcopare试用时间-仅windows","link":"#重置beyondcopare试用时间-仅windows","children":[]}],"readingTime":{"minutes":1.6,"words":481},"git":{"createdTime":1730976228000,"updatedTime":1731925855000,"contributors":[{"name":"banxia","email":"yutong9717@163.com","commits":1},{"name":"unravely","email":"yutong9717@163.com","commits":1}]},"autoDesc":true,"filePathRelative":"notes/note_linux/10.linux/4.常用脚本.md","bulletin":false}')}}]);