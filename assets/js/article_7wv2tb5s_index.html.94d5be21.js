"use strict";(self.webpackChunkunravely_blog=self.webpackChunkunravely_blog||[]).push([[7492],{872:(s,i,e)=>{e.r(i),e.d(i,{comp:()=>t,data:()=>l});var a=e(6254);const n={},t=(0,e(1021).A)(n,[["render",function(s,i){return(0,a.uX)(),(0,a.CE)("div",null,i[0]||(i[0]=[(0,a.Fv)('<p>根据 <a href="https://blog.csdn.net/wbsu2004/article/details/121154470" target="_blank" rel="noopener noreferrer">免费的GitHub图床PicX</a> 整理，替换镜像源</p><h2 id="_1-下载代码" tabindex="-1"><a class="header-anchor" href="#_1-下载代码"><span>1. 下载代码</span></a></h2><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clone</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://github.com/XPoet/picx.git</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> picx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-创建dockerfile文件" tabindex="-1"><a class="header-anchor" href="#_2-创建dockerfile文件"><span>2 创建dockerfile文件</span></a></h2><div class="language-dockerfile line-numbers-mode" data-ext="dockerfile" data-title="dockerfile"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># build stage</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> node:lts-slim </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">as</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> build-stage</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">LABEL</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> maintainer=unravely</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">WORKDIR</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> /app</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">COPY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> package*.json ./</span></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#这里用淘宝镜像，不然会卡住</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">RUN</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> npm install -g cnpm --registry=https://registry.npm.taobao.org</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">RUN</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> cnpm install</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">RUN</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> cnpm install pm2 -g</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">COPY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ../../blog .</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">RUN</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> npm run build</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># production stage</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> nginx:stable-alpine </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">as</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> production-stage</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">COPY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> --from=build-stage /app/dist /usr/share/nginx/html</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">EXPOSE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 80</span></span>\n<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CMD</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;nginx&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;-g&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;daemon off;&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-构建镜像" tabindex="-1"><a class="header-anchor" href="#_3-构建镜像"><span>3. 构建镜像</span></a></h2><div class="language-dockerfile line-numbers-mode" data-ext="dockerfile" data-title="dockerfile"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">docker build -t unravely/pixc:v1 .</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_4-启动服务" tabindex="-1"><a class="header-anchor" href="#_4-启动服务"><span>4. 启动服务</span></a></h2><div class="language-dockerfile line-numbers-mode" data-ext="dockerfile" data-title="dockerfile"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">docker run -d --name=picx --restart=always -p 3480:80 unravely/pixc:v1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_5-访问" tabindex="-1"><a class="header-anchor" href="#_5-访问"><span>5.访问</span></a></h2><p>访问地址：http://ip:3480</p><h2 id="ps" tabindex="-1"><a class="header-anchor" href="#ps"><span>ps：</span></a></h2><p>也可以直接去(<a href="https://hub.docker.com/search?type=image" target="_blank" rel="noopener noreferrer">Docker Hub</a>)搜索<code>pixc</code>，直接拉取镜像，然后运行；</p>',13)]))}]]),l=JSON.parse('{"path":"/article/7wv2tb5s/","title":"部署Picx图床","lang":"zh-CN","frontmatter":{"title":"部署Picx图床","tags":["图床"],"createTime":"2023/01/30","cover":"/cover/cover_picx.png","excerpt":"穷鬼必备，白嫖github图床","permalink":"/article/7wv2tb5s/","description":"根据 免费的GitHub图床PicX 整理，替换镜像源 1. 下载代码 2 创建dockerfile文件 3. 构建镜像 4. 启动服务 5.访问 访问地址：http://ip:3480 ps： 也可以直接去(Docker Hub)搜索pixc，直接拉取镜像，然后运行；","head":[["meta",{"property":"og:url","content":"https://www.unravely.press/article/7wv2tb5s/"}],["meta",{"property":"og:site_name","content":"Unravely"}],["meta",{"property":"og:title","content":"部署Picx图床"}],["meta",{"property":"og:description","content":"根据 免费的GitHub图床PicX 整理，替换镜像源 1. 下载代码 2 创建dockerfile文件 3. 构建镜像 4. 启动服务 5.访问 访问地址：http://ip:3480 ps： 也可以直接去(Docker Hub)搜索pixc，直接拉取镜像，然后运行；"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://www.unravely.press/cover/cover_picx.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-15T10:42:09.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://www.unravely.press/cover/cover_picx.png"}],["meta",{"name":"twitter:image:alt","content":"部署Picx图床"}],["meta",{"property":"article:tag","content":"图床"}],["meta",{"property":"article:modified_time","content":"2024-11-15T10:42:09.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"部署Picx图床\\",\\"image\\":[\\"https://www.unravely.press/cover/cover_picx.png\\"],\\"dateModified\\":\\"2024-11-15T10:42:09.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"1. 下载代码","slug":"_1-下载代码","link":"#_1-下载代码","children":[]},{"level":2,"title":"2 创建dockerfile文件","slug":"_2-创建dockerfile文件","link":"#_2-创建dockerfile文件","children":[]},{"level":2,"title":"3. 构建镜像","slug":"_3-构建镜像","link":"#_3-构建镜像","children":[]},{"level":2,"title":"4. 启动服务","slug":"_4-启动服务","link":"#_4-启动服务","children":[]},{"level":2,"title":"5.访问","slug":"_5-访问","link":"#_5-访问","children":[]},{"level":2,"title":"ps：","slug":"ps","link":"#ps","children":[]}],"readingTime":{"minutes":0.68,"words":203},"git":{"createdTime":1730863308000,"updatedTime":1731667329000,"contributors":[{"name":"banxia","email":"yutong9717@163.com","commits":1}]},"autoDesc":true,"filePathRelative":"blog/linux/部署Picx图床.md","categoryList":[{"id":"126ac9","sort":10002,"name":"blog"},{"id":"dce1fa","sort":10004,"name":"linux"}],"bulletin":false}')}}]);