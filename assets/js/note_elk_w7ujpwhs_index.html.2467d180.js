"use strict";(self.webpackChunkunravely_blog=self.webpackChunkunravely_blog||[]).push([[1094],{2686:(s,i,a)=>{a.r(i),a.d(i,{comp:()=>e,data:()=>t});var n=a(6254);const l={},e=(0,a(1021).A)(l,[["render",function(s,i){return(0,n.uX)(),(0,n.CE)("div",null,i[0]||(i[0]=[(0,n.Fv)('<blockquote><p>新建一条记录的话就用post 更新一条记录的话就用put</p></blockquote><h2 id="post和put区别" tabindex="-1"><a class="header-anchor" href="#post和put区别"><span>POST和PUT区别</span></a></h2><p>1.更新：PUT会将新的json值完全替换掉旧的；而POST方式只会更新相同字段的值，其他数据不会改变，新提交的字段若不存在则增加。</p><p>2.PUT和DELETE操作是幂等的。所谓幂等是指不管进行多少次操作，结果都一样。比如用PUT修改一篇文章，然后在做同样的操作，每次操作后的结果并没有什么不同，DELETE也是一样。</p><p>3.POST操作不是幂等的，比如常见的POST重复加载问题：当我们多次发出同样的POST请求后，其结果是创建了若干的资源。</p><p>4.创建操作可以使用POST，也可以使用PUT，区别就在于POST是作用在一个集合资源(/articles)之上的，而PUT操作是作用在一个具体资源之上的(/articles/123)。</p><ul><li>put需要精确到某一个资源文件，这样才能进行对数据的更新和创建操作；</li><li>post能对整个资源集合进行操作，如果没有指定具体修改的文件id，那么post指令会自动生成一个唯一的id进行文件的创建，并将数据写入该文件中。如果指定了文件id，那么就会根据填写的参数对数据进行创建和更新操作；</li></ul><p>##1. 查看集群的健康情况</p><p>GET /_cat/health?v</p><p>##2. 查看节点的情况 GET /_cat/nodes?v</p><p>##3. 查询各个索引状态 GET /_cat/indices?v</p><p>##4. 创建索引 PUT /movie_index</p><p>##5. 查看某一个索引的分片情况 GET /_cat/shards/movie_index?v</p><p>##6. 删除索引 DELETE /movie_index</p><p>##7. 创建文档</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">PUT</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /movie_index/movie/1</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> &quot;id&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:100,</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;name&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;operation red sea&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">,</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;doubanScore&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:8.5,</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;actorList&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  {</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;id&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:1,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;name&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;zhang yi&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">},</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  {</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;id&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:2,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;name&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;hai qing&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">},</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  {</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;id&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:3,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;name&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;zhang han yu&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">}</span></span>\n<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  ]</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>\n<span class="line"></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">PUT</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /movie_index/movie/2</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;id&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:200,</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;name&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;operation meigong river&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">,</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;doubanScore&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:8.0,</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;actorList&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;id&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:3,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;name&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;zhang han yu&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">}</span></span>\n<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">]</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">PUT</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /movie_index/movie/3</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;id&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:300,</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;name&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;incident red sea&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">,</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;doubanScore&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:5.0,</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;actorList&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;id&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:4,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;name&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;zhang san feng&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">}</span></span>\n<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">]</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##8. 查询某一个索引中的全部文档 GET /movie_index/_search</p><p>##9. 根据id查询某一个文档 GET /movie_index/movie/3</p><p>##10. 根据文档id，删除某一个文档 DELETE /movie_index/_doc/3</p><p>POST /_forcemerge</p><p>##11. put 对已经存在的文档进行替换(幂等性)</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">PUT</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /movie_index/_doc/3</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;id&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:300,</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;name&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;incident red sea&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">,</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;doubanScore&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:5.0,</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;actorList&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;id&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:4,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;name&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;zhang cuishan&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">}</span></span>\n<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">]</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_12-post-进行新增操作-无法保证幂等性" tabindex="-1"><a class="header-anchor" href="#_12-post-进行新增操作-无法保证幂等性"><span>12. post 进行新增操作，无法保证幂等性</span></a></h2><h3 id="_1-根据主键保证幂等性" tabindex="-1"><a class="header-anchor" href="#_1-根据主键保证幂等性"><span>1. 根据主键保证幂等性</span></a></h3><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">POST</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /movie_index/_doc/</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;id&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:300,</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;name&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;incident red sea&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">,</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;doubanScore&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:5.0,</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;actorList&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;id&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:4,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;name&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;zhang cuishan111&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">}</span></span>\n<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">]</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>\n<span class="line"></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">GET</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /movie_index/_search</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">GET</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /movie_index/movie/1</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">POST</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /movie_index/movie/1/_update</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;doc&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  {</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">name</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">新的字段值</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> }</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">POST</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /movie_index/_update_by_query</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">\t&quot;query&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">\t  &quot;match&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">\t    &quot;actorList.id&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:1</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">\t  }</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">\t}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">\t&quot;script&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">\t  &quot;lang&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">painless</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">\t  &quot;source&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;for(int i=0;i&lt;ctx._source.actorList.length;i++){if(ctx._source.actorList[i].id==3){ctx._source.actorList[i].name=&#39;tttt&#39;}}&quot;</span></span>\n<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">\t}</span></span>\n<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span>\n<span class="line"></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">GET</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /movie_index/_search</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">POST</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /movie_index/_delete_by_query</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;query&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    &quot;match_all&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {}</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>\n<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##21. 创建索引，并创建文档</p><p>POST movie_test_202010/_doc { &quot;id&quot;:&quot;333&quot;, &quot;name&quot;:&quot;zhang3&quot; }</p><p>GET /movie_test_202010-query/_mapping</p><p>GET /_cat/templates</p><p>GET /_template/template_movie*</p>',30)]))}]]),t=JSON.parse('{"path":"/note_elk/w7ujpwhs/","title":"Kibana常用命令","lang":"zh-CN","frontmatter":{"title":"Kibana常用命令","createTime":"2024/11/17 00:41:31","permalink":"/note_elk/w7ujpwhs/","description":"新建一条记录的话就用post 更新一条记录的话就用put POST和PUT区别 1.更新：PUT会将新的json值完全替换掉旧的；而POST方式只会更新相同字段的值，其他数据不会改变，新提交的字段若不存在则增加。 2.PUT和DELETE操作是幂等的。所谓幂等是指不管进行多少次操作，结果都一样。比如用PUT修改一篇文章，然后在做同样的操作，每次操作后的...","head":[["meta",{"property":"og:url","content":"https://www.unravely.press/note_elk/w7ujpwhs/"}],["meta",{"property":"og:site_name","content":"Unravely"}],["meta",{"property":"og:title","content":"Kibana常用命令"}],["meta",{"property":"og:description","content":"新建一条记录的话就用post 更新一条记录的话就用put POST和PUT区别 1.更新：PUT会将新的json值完全替换掉旧的；而POST方式只会更新相同字段的值，其他数据不会改变，新提交的字段若不存在则增加。 2.PUT和DELETE操作是幂等的。所谓幂等是指不管进行多少次操作，结果都一样。比如用PUT修改一篇文章，然后在做同样的操作，每次操作后的..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-16T17:28:23.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-16T17:28:23.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Kibana常用命令\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-11-16T17:28:23.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"POST和PUT区别","slug":"post和put区别","link":"#post和put区别","children":[]},{"level":2,"title":"12. post 进行新增操作，无法保证幂等性","slug":"_12-post-进行新增操作-无法保证幂等性","link":"#_12-post-进行新增操作-无法保证幂等性","children":[{"level":3,"title":"1. 根据主键保证幂等性","slug":"_1-根据主键保证幂等性","link":"#_1-根据主键保证幂等性","children":[]}]}],"readingTime":{"minutes":2.35,"words":704},"git":{"createdTime":1731778103000,"updatedTime":1731778103000,"contributors":[{"name":"unravely","email":"yutong9717@163.com","commits":1}]},"autoDesc":true,"filePathRelative":"notes/note_elk/Kibana常用命令.md","bulletin":false}')}}]);